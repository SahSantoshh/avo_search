c
n
old_permissions
n
tags_changed?
c
self
params
tags_previously_changed?
tags_previously_changed
q
self.association
self.methods
self.permissions_roles.where(permission_id: old_permissions_ids)
old_permissions_ids
n
tags_previously_changed?
c
n
item[:permission_id]
item[:role_id]
item
c
PermissionsRole.delete_by(role_id:15, permission_id:3)
n
id
item[:permission_id]
item
c
PermissionsRole.delete_by(role_id:15, permission_id:3)
{:role_id=>15, :permission_id=>3}.to_a
PermissionsRole.destroy_by(role_id:15, permission_id:3)
remove_permissions_roles.first
c
n
remove_permissions
n
c
PermissionsRole.where(remove_permissions_roles)
a = {x: 1, y:2}
remove_permissions_roles.map(&:to_h)
remove_permissions_roles.to_h
PermissionsRole.destroy_by(remove_permissions_roles)
remove_permissions_roles
n
remove_permissions
n
tags
tags_previously_was
c
new_permissions
n
tags_previously_was - tags
tags_previously_was
n
tags
tags_previously_was
c
all_permission_roles
n
q
self.class.permissions_hash_array(tags, id)
self.permissions_hash_array(tags, id)
id
tags
n
c
n
tags_changed?
tags_previously_changed?
tags_previously_was
tags
tags_previously_was
tags_changed
c
npreviously_new_record_before_save
n
exit
q
tags_previous_change
tags_previous_tags_previous_change
tags_was
c
n
new_permissions
n
q
n
remove_permissions
n
previous_permissions
n
q
PermissionsRole.create(all_permission_roles)
all_permission_roles
q
my_id
n
tags
tags_was
self.tags_was
tags.previous_changes
tags_changed?
q
tags.previous_changes
tags_prevous_value
tags
tags_changed?
c
all_permission_roles
n
self
c
target
up
params
self
q
n
Permission.where(name: tags).map(&:id)
tags
